<import name='novelcover' src='./component/c_novel_cover'></import>
<template>
  <!-- template里只能有一个根节点 -->
  <div class="read">

    <!-- <novelcover novelcover="{{novelcover}}"></novelcover> -->
    <!-- 阅读页面顶部栏 -->
    <!-- <div if="{{titleStatus}}" class="read-top" onclick="clickToBack()">
      <image src={{img.back}}></image>
    </div> -->

    <!-- 小说章节标题与内容部分 -->
    <div class="content {{contentClassName}}" onclick="showSetting()">
      <text class="chapter-title {{chapterTitleClassName}}" style="font-size:{{changedFontSize}}">第{{catalogueNumber}}章&nbsp;{{title}}</text>
      <text class="chapter-content {{chapterContentClassName}}" style="font-size:{{fontsize}}">{{content}}</text>
    </div>

    <!-- 覆盖层：点击隐藏设置页面 -->
    <div if="{{settingStatus}}" class="hide-cover" onclick="hideSetting()"></div>

    <!-- 设置界面 -->
    <div if="{{settingStatus && !readSettingStatus}}" class="show-setting setting">
      <div class="setting-bottom">
        <div class="setting-bottom-item">
          <image src={{img.lastChapter}}></image>
          <text>上一章</text>
        </div>
        <div class="setting-bottom-item" onclick="clickToList()">
          <image src={{img.list}}></image>
          <text>章节目录</text>
        </div>
        <div if="{{backgroundColor=='day'}}" class="setting-bottom-item" onclick="changeBackgroundColor('night')">
          <image src={{img.moon}}></image>
          <text>日夜模式</text>
        </div>
        <div else class="setting-bottom-item" onclick="changeBackgroundColor('day')">
          <image src={{img.sun}}></image>
          <text>日夜模式</text>
        </div>
        <div class="setting-bottom-item" onclick="readSetting">
          <image src={{img.setting}}></image>
          <text>阅读设置</text>
        </div>
        <div class="setting-bottom-item">
          <image src={{img.nextChapter}}></image>
          <text>下一章</text>
        </div>
      </div>

    </div>

    <!-- 阅读设置页面 -->
    <div if="{{readSettingStatus}}" class="show-setting setting">

      <div class="read-setting-top">
        <div class="read-size">
          <text class="read-size-small" onclick="changefontsize('reduce')">A -</text>
          <text class="read-size-middle" onclick="changefontsize('middle')">{{fontsize}}</text>
          <text class="read-size-large" onclick="changefontsize('release')">A +</text>
        </div>
      </div>

      <div class="read-setting-bottom">
        <text class="one" style="background-color:#66cc99" onclick="changeBackgroundColor('green')">{{backgroundColorName.name1}}</text>
        <text class="two" style="background-color: #faebd7" onclick="changeBackgroundColor('yellow')">{{backgroundColorName.name2}}</text>
        <text class="three" style="background-color:#555555" onclick="changeBackgroundColor('gray')">{{backgroundColorName.name3}}</text>
        <text class="four" style="background-color:#FFF5EE" onclick="changeBackgroundColor('day')">{{backgroundColorName.name4}}</text>
      </div>

    </div>

    <div else class="no-setting setting"></div>

    <novelcover novelcover="{{novelcover}}"></novelcover>
  </div>
</template>

<style>
  .read {
    /* height: 100%; */
    flex-direction: column;
    align-content: center;
    align-items: center;
  }

  /* 顶部弹出栏 */

  .read-top {
    position: fixed;
    width: 100%;
    height: 96px;
    background-color: #262626;
    align-items: center;
  }

  .read-top image {
    width: 48px;
    height: 48px;
    margin: 24px;
  }

  /* 内容空间 */

  .content {
    flex-direction: column;
    padding: 19.2px 28.8px;

  }

  .day-content {
    background-color: rgb(230, 217, 186);
    color: rgb(26, 26, 26);
  }

  .night-content {
    background-color: #2b2b2b;
    color: rgba(255, 255, 255, 0.5);
  }

  .green-content {
    background-color: #66cc99;
    color: rgb(26, 26, 26);
  }

  .yellow-content {
    background-color: rgb(230, 217, 186);
    color: rgb(26, 26, 26);
  }

  .gray-content {
    background-color: #555555;
    color: rgba(255, 255, 255, 0.5);
  }

  .chapter-title {
    width: 100%;
    font-size: 30px;
    border-bottom-width: 3px;
    margin-bottom: 48px;
  }

  .day-chapter-title {
    color: rgba(26, 26, 26, 0.7);
    border-bottom-color: rgba(26, 26, 26, 0.7);
  }

  .night-chapter-title {
    color: rgba(255, 255, 255, 0.5);
    border-bottom-color: rgba(255, 255, 255, 0.5);
  }

  .green-chapter-title {
    color: rgba(26, 26, 26, 0.7);
    border-bottom-color: rgba(26, 26, 26, 0.7);
  }

  .yellow-chapter-title {
    color: rgba(26, 26, 26, 0.7);
    border-bottom-color: rgba(26, 26, 26, 0.7);
  }

  .gray-chapter-title {
    color: rgba(255, 255, 255, 0.5);
    border-bottom-color: rgba(255, 255, 255, 0.5);
  }

  .day-chapter-content {
    color: rgba(26, 26, 26, 0.7);
    color: rgba(255, 255, 255, 0.5);
  }

  .night-chapter-content {
    color: rgba(255, 255, 255, 0.5);
  }

  .green-chapter-content {
    color: rgba(26, 26, 26, 0.7);
  }

  .yellow-chapter-content {
    color: rgba(26, 26, 26, 0.7);
  }

  .gray-chapter-content {
    color: rgba(255, 255, 255, 0.5);
  }

  /*覆盖层 */

  .show-cover {
    position: fixed;
    top: 96px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    height: 100%;
    justify-content: space-around;
    background-color: transparent;
  }

  .hide-cover {
    position: fixed;
    top: 96px;
    right: 0px;
    bottom: 0px;
    left: 0px;
  }

  .cover-left {
    width: 25%;
    height: 100%;
  }

  .cover-center {
    width: 35%;
    height: 100%;
  }

  .cover-right {
    width: 25%;
    height: 100%;
  }

  .show-setting {
    width: 100%;
    background-color: #262626;
  }

  .no-setting {
    height: 0;
    display: none;
    width: 100%;
  }

  .setting {
    position: fixed;
    bottom: 0px;
    flex-direction: column;
  }

  .item-content {
    margin-top: 19.2px;
    width: 65%;
  }

  .slider {
    width: 100%;
    selected-color: #EE5C42;
    color: #666666;
  }

  .setting-bottom {
    margin: 12.48px 32.64px 4px 32.64px;
    height: 112.32px;
    justify-content: space-around;
    align-items: center;
    align-content: center;
  }

  .setting-bottom-item {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 164.16px;
    height: 96px;
  }

  .setting-bottom-item image {
    width: 48px;
    height: 48px;
  }

  .setting-bottom-item text {
    color: #E6E6E6;
    opacity: 0.5;
    font-size: 20px;
    margin-top: 4px;
  }

  .read-setting-top {
    align-items: center;
    width: 90%;
    height: 144px;
  }

  .read-size {
    width: 380.64px;
    height: 64.32px;
    justify-content: space-between;
    border-width: 2px;
    border-color: rgba(255, 255, 255, 0.5);
    border-radius: 9px;
    background-color: rgba(51, 51, 51, 0.3);
    margin-left: 28.8px;
  }

  .read-size text {
    width: 33%;
    height: 100%;
    text-align: center;
  }

  .read-size-small {
    color: #A8A8A8;
    font-size: 26px;
  }

  .read-size-middle {
    border-left-color: rgba(255, 255, 255, 0.5);
    border-left-width: 2px;
    font-size: 30px;
    color: #E6E6E6;
  }

  .read-size-large {
    color: #A8A8A8;
    font-size: 26px;
    border-left-color: rgba(255, 255, 255, 0.5);
    border-left-width: 2px;
  }

  .read-paging {
    border-radius: 10px;
    height: 45%;
    padding: 0 10px;
    font-size: 24px;
    color: #f0ffff;
    border: 1px solid #a9a9a9;
  }

  .read-paging-active {
    border-radius: 10px;
    height: 45%;
    padding: 0 10px;
    font-size: 24px;
    color: #EE5C42;
    border: 1px solid #EE5C42;
  }

  .read-setting-bottom {
    align-items: center;
    margin: 0 31.68px 10px 31.68px;
    height: 144px;
    border-bottom-color: rgba(216, 216, 216, 0.15);
    border-bottom-width: 1.92px;
  }

  .read-setting-bottom text {
    border-radius: 57.6px;
    width: 13%;
    height: 60%;
    font-size: 24px;
    margin-right: 57.6px;
    text-align: center;
  }
</style>

<script>
  import router from '@system.router'

  module.exports = {
    protected: {
      item: ''     //item 为将接收的路由参数
    },
    public: {
      catalogueNumber: 1,
      title: '朝气蓬勃',
      content: ` 夜已深，漆黑一片，景物不可见。但山中并不宁静，猛兽咆哮，震动山河，万木摇颤，乱叶簌簌坠落。

    群山万壑间，洪荒猛兽横行，太古遗种出没，各种可怕的声音在黑暗中此起彼伏，直欲裂开这天地。

    山脉中，远远望去有一团柔和的光隐现，在这黑暗无尽的夜幕下与万山间犹如一点烛火在摇曳，随时会熄灭。

    渐渐接近，可以看清那里有半截巨大的枯木，树干直径足有十几米，通体焦黑。除却半截主干外，它只剩下了一条柔弱的枝条，但却在散发着生机，枝叶晶莹如绿玉刻成，点点柔和的光扩散，将一个村子笼罩。

    确切的说，这是一株雷击木，在很多年前曾经遭遇过通天的闪电，老柳树巨大的树冠与旺盛的生机被摧毁了。如今地表上只剩下**米高的一段树桩，粗的惊人，而那仅有的一条柳枝如绿霞神链般，光晕弥漫，笼罩与守护住了整个村子，令这片栖居地朦朦胧胧，犹若一片仙乡，在这大荒中显得很神秘。

    村中各户都是石屋，夜深人静，这里祥和而安谧，像是与外界的黑暗还有兽吼隔绝了。

    “呜……”

    一阵狂风吹过，一片巨大的乌云横空，遮住了整片夜空，挡住了那仅有的一点星华，山脉中更加黑暗了。

    一声凶戾的禽鸣自高天传来，穿金裂石，竟源自那片乌云，细看它居然是一只庞大到不可思议的巨鸟，遮天蔽月，长也不知多少里。

    路过石村，它俯视下方，两只眼睛宛若两轮血月般，凶气滔天，盯着老柳木看了片刻，最终飞向了山脉最深处。

    平静了很长一段时间，直到后半夜，大地颤动了起来，一条模糊的身影从远方走来，竟与群山齐高！

    莫名气息散发，群山万壑死一般的寂静，凶禽猛兽皆蛰伏，不敢发出一点声音。

    近了，这是一个拥有人形的生物，直立行走，庞大的惊人，身高比肩山岳，浑身没有毛发，通体密布着金色的鳞片，熠熠生辉。面部很平，只有一只竖眼，开合间像是一道金色的闪电划过，犀利慑人。整体血气如海，宛如一尊神魔！

    它路过此地，看了一眼老柳木，稍作停留后，似乎急于赶路，最终快速远去，许多山峰被其脚步震的轰鸣，山地剧烈颤抖。

    黎明，一条十米长、水桶粗、银光灿灿的蜈蚣在山中蜿蜒而行，像是白银浇铸而成，每一节都锃亮而狰狞，划过山石时铿锵作响，火星飞溅。但最终它却避过了石村，没有侵入，所过之处黑雾翻腾，万兽避退。

    一根散发着莹莹绿霞的柔弱柳条在风中轻轻摇曳……
    石村，位于苍莽山脉中，四周高峰大壑，茫茫群山巍峨。

    清晨，朝霞灿灿，仿若碎金一般洒落，沐浴在人身上暖洋洋。

    一群孩子，从四五岁到十几岁不等，能有数十人，在村前的空地上迎着朝霞，正在哼哈有声的锻炼体魄。一张张稚嫩的小脸满是认真之色，大一些的孩子虎虎生风，小一些的也比划的有模有样。

    一个肌体强健如虎豹的中年男子，穿着兽皮衣，皮肤呈古铜色，黑发披散，炯炯有神的眼眸扫过每一个孩子，正在认真指点他们。

    “太阳初升，万物初始，生之气最盛，虽不能如传说中那般餐霞食气，但这样迎霞锻体自也有莫大好处，可充盈人体生机。一天之计在于晨，每日早起多用功，强筋壮骨，活血炼筋，将来才能在这苍莽山脉中有活命的本钱。”站在前方、指点一群孩子的中年男子一脸严肃，认真告诫，而后又喝道：“你们明白吗？”

    “明白！”一群孩子中气十足，大声回应。

    山中多史前生物出没，时有遮蔽天空之巨翼横过，在地上投下大片的阴影，亦有荒兽立于峰上，吞月而啸，更少不了各种毒虫伏行，异常可怖。

    “明白呀。”一个明显走神、慢了半拍的小家伙奶声奶气的叫道。

    这是一个很小的孩子，只有一两岁的样子，刚学会走路没几个月，也在跟着锻炼体魄。显然，他是自己凑过来的，混在了年长的孩子中，分明还不应该出现在这个队伍里。

    “哼哼哈嘿！”小家伙口中发声，嫩嫩的小手臂卖力的挥动着，效仿大孩子们的动作，可是他太过幼小，动作歪歪扭扭，且步履蹒跚，摇摇摆摆，再加上嘴角间残留的白色奶渍，引人发笑。

    一群大孩子看着他，皆挤眉弄眼，让原本严肃的晨练气氛轻缓了不少。

    小不点长的很白嫩与漂亮，大眼睛乌溜溜的转动，整个人像是个白瓷娃娃，很可爱，稚嫩的动作，口中咿咿呀呀，憨态可掬。这让另一片场地中盘坐在一块块巨石上正在吞吐天精的一些老人也都露出笑容。

    就是那些身材高大魁梧、上半身**、肌腱光亮并隆起的成年男子们，也都望了过来，带着笑意。他们是村中最强壮的人，是狩猎与守护这个村落的最重要力量，也都在锻体，有人握着不知名的巨兽骨骼打磨而成的白骨大棒，也有人持着黑色金属铸成的阔剑，用力舞动，风声如雷。

    生存环境极其恶劣，多洪荒猛兽毒虫，为了食物，为了生存，很多男子还未成年就过早夭折在了大荒中，想要活下去，唯有强壮己身。清晨用功，无论是成年人，亦或是老人与孩子，这是每一个人自幼就已养成的习惯。

    “收心！”负责督促与指导孩子练功的中年男子大声喊道。一群孩子赶紧认真了起来，继续在柔和与灿烂的朝霞中锻炼。

    “呼……咿呀，累了。”小不点长出了一口气，一屁墩儿坐在了地上，看着大孩子们锻炼体魄。可仅一会儿工夫他就被分散了注意力，站起身来，摇摇摆摆，冲向不远处一只正在蹦蹦跳跳的五色雀，结果磕磕绊绊，连摔了几个屁墩儿，倒也不哭，气呼呼，哼哼唧唧爬起来再追。

    “好了，收功！”

    随着一声大喝，所有孩子都一阵欢呼，揉了揉酸疼的手脚，而后一哄而散，冲向各自的家中，准备吃早饭。

    老人们都笑了，自巨石上起身。而那些身材健壮如虎的成年人则是一阵笑骂，数落着自己的孩子，拎着骨棒与阔剑也快步向自家中走去。

    石村不是很大，男女老少加起来能有三百多人，屋子都是巨石砌成的，简朴而自然。

    在村头有一截巨大的雷击木，直径十几米，此时主干上唯一的柳条已经在朝霞中掩去了莹光，变得普普通通了。

    “噢，居然有土龙肉，给我一块！”

    这些孩子都很活泼与好动，即便吃饭时也都不太老实，不少人抱着陶碗从自家出来，凑到了一起。

    石村周围草木丰茂，猛兽众多，可守着大山，村人的食物相对来说却算不上丰盛，只是一些粗麦饼、野果以及孩子们碗中少量的肉食。

    事实上，食物不充裕对于石村来说一直是一个很严重的问题。山脉中十分危险，那些异兽凶禽过于强大与恐怖，每一次去狩猎都可能会有人丢掉性命。

    如果有选择，村人是不愿进山的。因为进山就意味着可能会有流血与牺牲。

    食物对于他们来说非常宝贵，容不得浪费，每一个孩子从小就懂得这一点，饥饿、食物、狩猎、性命、鲜血这些是相连的。

    村头是老族长石云峰的院落，由巨石堆砌而成，紧挨着焦黑而巨大的柳木。院内的灶台前，陶罐内白色汁液沸腾，奶香扑鼻，他正在熬煮兽奶，此外不时将一些药草等投放进去，以木勺慢慢搅动。

    不多时，老人喊道：“小不点，过来吃东西。”

    小不点在半岁时就失去了父母，是吃百兽奶长大的，而今已经一岁零几个月了，若是寻常的孩子早该断奶了，而他却依旧吃的很香甜，不肯断掉，常被大一些的孩子取笑。

    “咿呀，呼……跑不动了。”他一直在锲而不舍地追那只五色雀，早已气喘吁吁，此时一屁股坐在了地上。

    “小不点吃奶喽！”一群大孩子起哄。

    “你们这群小皮猴子，还不都是从他这个年龄过来的。”老族长笑骂道。

    “我们可没有在一岁半时还在吃奶，嘿嘿。”

    面对大孩子的取笑，小不点憨憨的笑着，黑亮的大眼眯成了月牙状，毫不在乎，坐在陶罐前用木勺舀奶，吃的很香甜。

    早饭过后，村中几名年岁很大的老人一起来到族长石云峰的院子中，虽然早已须发皆白，但精气神都还很足。

    “最近不太对劲啊，深夜总是有大家伙路过，动静实在太大了，这山脉深处一定发生了什么。”

    “唔，昨天夜里我被惊醒了几次，皮骨发寒，一定是有什么洪荒凶兽与大虫从这里路过。”

    几名老人先后开口，他们或蹙眉或深思，讨论最近的一些危险征兆，觉得有不同寻常的事情发生了。

    “我觉得这大荒深处可能出了了不得的东西，引起了周围地域一些太古遗种的注意，纷纷赶过去了。”老族长石云峰思忖后说道。

    “该不会是出了山宝吧？”一个老人顿时瞪圆了眼睛，须发皆张，露出惊容。

    其他人也都露出异色，眼神火热，但很快又都熄灭了眸中的火焰，那种东西不是他们能得到的，远在山脉最深处，没人进的去。

    这么多年来从未有人能活着进出一趟，山中各种强横物种出没，即便石村所有人齐闯，也连一朵浪花都不会泛起。

    “族长，我们已经有些日子没有进山了。”就在这时，一个雄壮的成年男子走进院中，他是狩猎队伍的头领，也将是石村的下任族长。

    “最近有些不太平啊。”老族长石云峰皱眉。

    “可是食物真的不多了。”石林虎道，他身材极为高大，两米有余，背着一口三百余斤的阔剑，整个人壮的如同一头人熊，浑身古铜色的肌肉一块块，如一条条蛇蟒在游动。

    “娃子们需要长身体，不能饿着，得想些办法。”有老人开口。

    “虽然夜里不平静，但白天倒是没有什么异常，我带些人出去，小心一点应该没问题。”石林虎道。

    最后，几十名青壮年男子在村头集合，由族长石云峰带着来到旁边的雷击木前，对着老柳树认真祈祷。

    “祭灵，请保佑族人，让孩子们打到肥美的猎物，平安归来。我们将以虔诚的心，世代祭祀与供养你。”

    开始上传了，每一个点击、推荐、收藏都对这本新书很重要，让本书冲起，离不开每一位兄弟姐妹，需要大家的支持。另外，今天晚上八点大家可以来歪歪2579玩，我也去。还有，谢谢飘红与打赏的所有兄弟姐妹！
    `,
      currentValue: 0,
      isLight: true,
      fontsize: 40,
      titleStatus: false,
      settingStatus: false,
      readSettingStatus: false,
      backgroundColor: 'day',
      //小说空间不同背景类名
      contentClassName: '',
      //小说章节标题不同背景类名
      chapterTitleClassName: '',
      //小说章节内容不同背景类名
      chapterContentClassName: '',
      //翻页模式
      pageModel: 'vertical',

      //页面使用图片
      img: {
        "lastChapter": "/Page_Read/img/last_chapter.png",
        "back": "/Page_Read/img/back.png",
        "list": "/Page_Read/img/list.png",
        "moon": "/Page_Read/img/moon.png",
        "setting": "/Page_Read/img/setting.png",
        "sun": "/Page_Read/img/sun.png",
        "nextChapter": "/Page_Read/img/next_chapter.png",
      },
      novelcover: {
        "hand": "/Page_Read/img/hand.png",
        "left_arrows": "/Page_Read/img/left_arrows.png",
        "point": "/Page_Read/img/point.png",
        "right_arrows": "/Page_Read/img/right_arrows.png",
      },

      //背景颜色模式
      backgroundColorName: {
        name1: '护眼',
        name2: '羊皮纸',
        name3: '夜之魅',
        name4: '纸之灵',
      }
    },
    onInit() {
      this.$page.setTitleBar({
        textColor: '#1a1a1a',
        backgroundColor: '#f2f2f2',
        text: '阅读'
      });

      //将接收的路由参数转成对象
      if (this.item) {
        this.item = JSON.parse(this.item);
      }
      if (this.item.catalogueTitle) {
        this.title = this.item.catalogueTitle;
        this.catalogueNumber = this.item.catalogueNumber;
      }

    },
    showSetting() {
      this.titleStatus = true;
      this.settingStatus = true;
    },
    hideSetting() {
      this.titleStatus = false;
      this.settingStatus = false;
      this.readSettingStatus = false;
      //设置titlebar背景色
      if (this.backgroundColor === 'day') {
        this.$page.setTitleBar({
          backgroundColor: '#ffffff'
        });
      } else if (this.backgroundColor === 'night') {
        this.$page.setTitleBar({
          backgroundColor: '#2b2b2b'
        });
      } else if (this.backgroundColor === 'green') {
        this.$page.setTitleBar({
          backgroundColor: '#66cc99'
        });
      } else if (this.backgroundColor === 'yellow') {
        this.$page.setTitleBar({
          backgroundColor: '#e6d9ba'
        });
      } else if (this.backgroundColor === 'gray') {
        this.$page.setTitleBar({
          backgroundColor: '#555555'
        });
      }
    },

    //日夜模式
    changelight() {
      this.isLight = !this.isLight;
      this.titleStatus = false;
      //设置titlebar背景色
      if (this.backgroundColor === 'day') {
        this.$page.setTitleBar({
          textColor: '#1a1a1a',
          backgroundColor: '#ffffff'
        });
      } else if (this.backgroundColor === 'night') {
        this.$page.setTitleBar({
          textColor: 'rgba(255,255,255,0.5)',
          backgroundColor: '#2b2b2b'
        });
      }

    },
    //阅读设置
    readSetting() {
      this.readSettingStatus = true;
      this.titleStatus = false;
    },

    //改变字体大小
    changefontsize(value) {
      //小字体设置
      if (value === "reduce") {
        this.fontsize = this.fontsize - 1;
      }
      //大字体设置
      else if (value === "release") {
        this.fontsize = this.fontsize + 1;
      }

    },

    //改变翻页模式（暂时只有点击后按钮变化，横向翻页模式未写）
    changePagingModel(pagingModel) {
      this.pageModel = pagingModel;
    },

    //改变背景颜色
    changeBackgroundColor(backgroundColor) {
      //标题栏隐藏
      this.titleStatus = false;
      this.backgroundColor = backgroundColor;
      //背景，标题，内容颜色变化
      if (backgroundColor === 'day') {
        this.contentClassName = 'content';
        this.chapterTitleClassName = 'chapter-title';
        this.chapterContentClassName = 'chapter-content';
      } else if (backgroundColor === 'night') {
        this.contentClassName = 'night-content';
        this.chapterTitleClassName = 'night-chapter-title';
        this.chapterContentClassName = 'night-chapter-content';
      } else if (backgroundColor === 'green') {
        this.contentClassName = 'green-content';
        this.chapterTitleClassName = 'green-chapter-title';
        this.chapterContentClassName = 'green-chapter-content';
      } else if (backgroundColor === 'yellow') {
        this.contentClassName = 'yellow-content';
        this.chapterTitleClassName = 'yellow-chapter-title';
        this.chapterContentClassName = 'yellow-chapter-content';
      } else if (backgroundColor === 'gray') {
        this.contentClassName = 'gray-content';
        this.chapterTitleClassName = 'gray-chapter-title';
        this.chapterContentClassName = 'gray-chapter-content';
      } else if (backgroundColor === 'day') {
        this.contentClassName = 'content';
        this.chapterTitleClassName = 'chapter-title';
        this.chapterContentClassName = 'chapter-content';
      }

      //设置titlebar背景色
      if (this.backgroundColor === 'day') {
        this.$page.setTitleBar({
          textColor: '#1a1a1a',
          backgroundColor: '#ffffff'
        });
      } else if (this.backgroundColor === 'night') {
        this.$page.setTitleBar({
          textColor: '#f2f2f2',
          backgroundColor: '#2b2b2b'
        });
      } else if (this.backgroundColor === 'green') {
        this.$page.setTitleBar({
          textColor: '#1a1a1a',
          backgroundColor: '#66cc99'
        });
      } else if (this.backgroundColor === 'yellow') {
        this.$page.setTitleBar({
          textColor: '#1a1a1a',
          backgroundColor: '#e6d9ba'
        });
      } else if (this.backgroundColor === 'gray') {
        this.$page.setTitleBar({
          textColor: '#f2f2f2',
          backgroundColor: '#555555'
        });
      }
    },

    getValue: function (name, e) {
      this[name] = e.progress;
    },

    //返回上一页
    clickToBack() {
      router.back();
    },
    //跳转章节目录
    clickToList() {
      router.push({
        uri: '/Page_Catalogue',
        params: { testId: 'testId' }
      })
    }
  }
</script>